<form
  [formGroup]="filterForm"
  (ngSubmit)="applyFilters()"
  autocomplete="off"
  class="w-full"
>
  <div
    class="w-full flex flex-col items-center justify-between sm:flex-row gap-2"
  >
    <!-- Search Input -->
    <p-floatlabel variant="on" class="w-full sm:w-96">
      <label for="search" class="bg-background! text-card-foreground!"
        >{{ "SEARCH_BY_NAME" | translate }}
      </label>
      <input
        id="search"
        type="text"
        pInputText
        formControlName="search"
        class="w-full rounded-md! bg-background! text-card-foreground!"
        pSize="small"
      />
    </p-floatlabel>
    <!-- Popover Button -->
    <p-popover #filterPopover>
      <div class="p-4 space-y-6 bg-card shadow-lg w-96 rounded-md">
        <!-- Location Filter -->

        <p-select
          id="location"
          [options]="locations"
          formControlName="location"
          optionLabel="name"
          placeholder="Select Location"
          class="w-full rounded-md! py-0! bg-card! text-card-foreground!"
          size="small"
        ></p-select>

        <!-- Status Filter -->

        <p-select
          id="status"
          [options]="statuses"
          formControlName="status"
          optionLabel="label"
          placeholder="Select Status"
          class="w-full rounded-md! py-0! bg-card! text-card-foreground!"
          size="small"
        ></p-select>

        <!-- Creation Date Filter -->
        <p-floatlabel variant="on" class="col-span-2">
          <p-datepicker
            formControlName="creationDate"
            inputId="creationDate"
            selectionMode="range"
            showIcon
            iconDisplay="input"
            size="small"
            styleClass="w-full! rounded-md! bg-card! text-card-foreground!"
          />
          <label for="creationDate" class="bg-card! text-card-foreground!"
            >Creation Date</label
          >
        </p-floatlabel>

        <!-- Buttons -->
        <div class="col-span-2 gap-2 flex justify-between">
          <button
            type="submit"
            pButton
            label="Apply"
            class="w-full rounded-md! bg-card! text-card-foreground!"
          ></button>
          <button
            type="button"
            pButton
            label="Reset"
            class="w-full rounded-md! bg-card! text-card-foreground!"
            (click)="resetFilters()"
          ></button>
        </div>
      </div>
    </p-popover>
    <!-- Open Popover Button -->
    <button
      type="button"
      pButton
      icon="pi pi-filter"
      label="{{ 'FILTERS' | translate }}"
      class="bg-secondary! border-none! text-white rounded-md px-4 py-2 w-full sm:w-fit"
      (click)="filterPopover.toggle($event)"
    ></button>
  </div>
</form>
