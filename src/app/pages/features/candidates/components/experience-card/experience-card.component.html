<p-confirmDialog
  [style]="{ minWidth: '450px' }"
  [draggable]="false"
  [rejectVisible]="true"
  acceptLabel="{{ 'YES' | translate }}"
  rejectLabel="{{ 'NO' | translate }}"
  acceptIcon="pi pi-check"
  rejectIcon="pi pi-times"
  acceptButtonStyleClass="p-button-danger"
  rejectButtonStyleClass="p-button-text"
>
  <ng-template pTemplate="header">
    <div class="flex items-center gap-2">
      <i class="pi pi-exclamation-triangle text-yellow-500"></i>
      <span class="font-medium text-text!">{{
        "DELETE_EXPERIENCE" | translate
      }}</span>
    </div>
  </ng-template>
  <ng-template pTemplate="message">
    <div class="flex items-center gap-2">
      <i class="pi pi-info-circle text-blue-500"></i>
      <span class="text-text!">{{
        "ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_EXPERIENCE" | translate
      }}</span>
    </div>
  </ng-template>
</p-confirmDialog>

<div
  class="bg-slate-50 mt-2 dark:bg-slate-700/50 border-l-4 border-blue-500 pl-4 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all duration-300 rounded-lg p-4"
>
  <div
    class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-4"
  >
    <div class="flex-1 min-w-0">
      <h4
        class="text-lg font-medium text-slate-800 dark:text-slate-100 break-words"
      >
        {{ experience.jobTitle }}
      </h4>
      <p class="text-slate-600 dark:text-slate-300 break-words">
        {{ experience.company }}
      </p>
    </div>
    <div class="flex items-center gap-2">
      <span
        class="text-sm text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full border border-slate-200 dark:border-slate-600 whitespace-nowrap"
      >
        <i class="pi pi-calendar text-blue-500 mr-1"></i>
        {{ formatDateSafely(experience.startDate, "MMM yyyy", "N/A") }} -
        {{
          experience.current
            ? ("PRESENT" | translate)
            : formatDateSafely(experience.endDate, "MMM yyyy", "N/A")
        }}
      </span>
      <p-menu
        #menu
        *appHasRole="['HR_ADMIN', 'HR', 'RECRUITER']"
        [popup]="true"
        [model]="menuItems"
        appendTo="body"
      ></p-menu>
      <button
        *appHasRole="['HR_ADMIN', 'HR', 'RECRUITER']"
        pButton
        icon="pi pi-ellipsis-v"
        class="p-button-rounded p-button-text p-button-sm dark:text-slate-200"
        (click)="menu.toggle($event)"
      ></button>
    </div>
  </div>
  <p class="text-slate-600 dark:text-slate-300 mt-2 break-words">
    {{ experience.description }}
  </p>
  <p class="text-sm text-slate-500 dark:text-slate-400 mt-2">
    <i class="pi pi-map-marker text-blue-500 mr-1"></i>
    {{ experience.location }}
  </p>
</div>
