<p-dialog
  [visible]="socialLinksService.isDialogVisibleComputed()"
  (visibleChange)="socialLinksService.setDialogVisible($event)"
  [style]="{ width: '450px' }"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onHide()"
  class="bg-white dark:bg-slate-800"
>
  <ng-template pTemplate="header">
    <div class="flex items-center gap-2">
      <i class="pi pi-share-alt text-xl text-primary"></i>
      <span class="text-base font-medium text-slate-700 dark:text-slate-200">
        {{ "SOCIAL_LINKS" | translate }}
      </span>
    </div>
  </ng-template>

  <form
    [formGroup]="socialLinksForm"
    (ngSubmit)="onSave()"
    class="flex flex-col gap-4"
  >
    <!-- GitHub -->
    <div class="flex flex-col gap-1.5">
      <label
        for="githubUrl"
        class="flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300"
      >
        <i class="pi pi-github"></i>
        <span>{{ "GITHUB" | translate }}</span>
      </label>
      <div class="relative">
        <input
          id="githubUrl"
          type="url"
          formControlName="githubUrl"
          pInputText
          placeholder="https://github.com/username"
          class="w-full! pl-9! pr-3! bg-white! dark:bg-slate-900! border! border-slate-300! dark:border-slate-600! rounded-lg! text-slate-900! dark:text-slate-100! placeholder:text-slate-400! dark:placeholder:text-slate-500! focus:ring-0 focus-visible:border-primary! dark:focus-visible:border-white! outline-none! hover:border-primary! focus:border-primary! focus:ring-primary! dark:hover:border-white! dark:focus:border-white! dark:focus:ring-white!"
        />
        <i
          class="pi pi-github absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"
        ></i>
      </div>
    </div>

    <!-- LinkedIn -->
    <div class="flex flex-col gap-1.5">
      <label
        for="linkedinUrl"
        class="flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300"
      >
        <i class="pi pi-linkedin"></i>
        <span>{{ "LINKEDIN" | translate }}</span>
      </label>
      <div class="relative">
        <input
          pInputText
          id="linkedinUrl"
          type="url"
          formControlName="linkedinUrl"
          placeholder="https://linkedin.com/in/username"
          class="w-full! pl-9! pr-3! bg-white! dark:bg-slate-900! border! border-slate-300! dark:border-slate-600! rounded-lg! text-slate-900! dark:text-slate-100! placeholder:text-slate-400! dark:placeholder:text-slate-500! focus:ring-0 focus-visible:border-primary! dark:focus-visible:border-white! outline-none! hover:border-primary! focus:border-primary! focus:ring-primary! dark:hover:border-white! dark:focus:border-white! dark:focus:ring-white!"
        />
        <i
          class="pi pi-linkedin absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"
        ></i>
      </div>
    </div>

    <!-- Portfolio -->
    <div class="flex flex-col gap-1.5">
      <label
        for="portfolioUrl"
        class="flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300"
      >
        <i class="pi pi-globe"></i>
        <span>{{ "PORTFOLIO" | translate }}</span>
      </label>
      <div class="relative">
        <input
          pInputText
          id="portfolioUrl"
          type="url"
          formControlName="portfolioUrl"
          placeholder="https://portfolio.com"
          class="w-full! pl-9! pr-3! bg-white! dark:bg-slate-900! border! border-slate-300! dark:border-slate-600! rounded-lg! text-slate-900! dark:text-slate-100! placeholder:text-slate-400! dark:placeholder:text-slate-500! focus:ring-0 focus-visible:border-primary! dark:focus-visible:border-white! outline-none! hover:border-primary! focus:border-primary! focus:ring-primary! dark:hover:border-white! dark:focus:border-white! dark:focus:ring-white!"
        />
        <i
          class="pi pi-globe absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"
        ></i>
      </div>
    </div>

    <!-- Other -->
    <div class="flex flex-col gap-1.5">
      <label
        for="otherUrl"
        class="flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300"
      >
        <i class="pi pi-link"></i>
        <span>{{ "OTHER_LINK" | translate }}</span>
      </label>
      <div class="relative">
        <input
          pInputText
          id="otherUrl"
          type="url"
          formControlName="otherUrl"
          placeholder="https://"
          class="w-full! pl-9! pr-3! bg-white! dark:bg-slate-900! border! border-slate-300! dark:border-slate-600! rounded-lg! text-slate-900! dark:text-slate-100! placeholder:text-slate-400! dark:placeholder:text-slate-500! focus:ring-0 focus-visible:border-primary! dark:focus-visible:border-white! outline-none! hover:border-primary! focus:border-primary! focus:ring-primary! dark:hover:border-white! dark:focus:border-white! dark:focus:ring-white!"
        />
        <i
          class="pi pi-link absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"
        ></i>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex justify-end gap-2 mt-2">
      <p-button
        type="button"
        label="{{ 'CANCEL' | translate }}"
        icon="pi pi-times"
        (onClick)="socialLinksService.closeDialog()"
        styleClass="p-button-text"
        [disabled]="isLoading()"
      ></p-button>
      <p-button
        type="submit"
        label="{{ 'SAVE' | translate }}"
        icon="pi pi-check"
        [disabled]="!socialLinksForm.valid || isLoading()"
        [loading]="isLoading()"
      ></p-button>
    </div>
  </form>
</p-dialog>
